version: "2.0"

stories:
  - story: Wohnung anmelden
    steps:
      - intent: topic_wohnung_anmelden
      - action: utter_wohung_anmelden
      - intent: bestaetigen
      - action: utter_wohung_anmelden_basic
      - action: utter_followup_question
      - checkpoint: check_qa_start

  - story: Q&A
    steps:
      - checkpoint: check_qa_start
      - intent: faq
      - action: utter_qa
      - checkpoint: check_qa_end

  - story: Termin buchen
    steps:
      - checkpoint: check_qa_end
      - intent: book_appointment
      - action: utter_book_appointment

  - story: wohnung abmelden
    steps:
      - intent: topic_wohnung_abmelden
      - action: utter_wohung_abmelden
      - intent: bestaetigen
      - action: action_listen

  - story: falsche sprache fallback
    steps:
      - intent: nlu_fallback
      - slot_was_set:
          - language: __other__
      - action: utter_ask_rephrase
      - intent: nlu_fallback
      - slot_was_set:
          - language: __other__
      - action: utter_wrong_language
      - action: action_restart

  - story: nicht verstanden fallback (negative sentiment)
    steps:
      - intent: nlu_fallback
      - slot_was_set:
          - sentiment: negative
      - action: utter_ask_rephrase
      - intent: nlu_fallback
      - slot_was_set:
          - sentiment: negative
      - action: utter_bad_sentiment
