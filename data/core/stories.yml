version: "2.0"

stories:
  - story: Wohnung anmelden mit Q&A
    steps:
      - intent: topic_wohnung_anmelden
      - action: utter_wohnung_anmelden
      - intent: bestaetigen
      - action: utter_wohnung_anmelden_basic
      - action: utter_followup_question
      - intent: faq
      - action: utter_qa
      - intent: book_appointment
      - action: utter_book_appointment
      - intent: bestaetigen
      - action: booking_form_1
      - active_loop: booking_form_1
      - active_loop: null
      - action: booking_form_2
      - active_loop: booking_form_2
      - active_loop: null
      - action: utter_submit

  - story: Wohnung anmelden ohne Q&A
    steps:
      - intent: topic_wohnung_anmelden
      - action: utter_wohnung_anmelden
      - intent: bestaetigen
      - action: utter_wohnung_anmelden_basic
      - action: utter_followup_question
      - intent: book_appointment
      - action: utter_book_appointment
      - intent: bestaetigen
      - action: booking_form_1
      - active_loop: booking_form_1
      - active_loop: null
      - action: booking_form_2
      - active_loop: booking_form_2
      - active_loop: null
      - action: utter_submit

  - story: wohnung abmelden
    steps:
      - intent: topic_wohnung_abmelden
      - action: utter_wohnung_abmelden
      - intent: bestaetigen
      - action: action_listen

  - story: falsche sprache fallback
    steps:
      - intent: nlu_fallback
      - slot_was_set:
          - language: __other__
      - action: utter_ask_rephrase
      - intent: nlu_fallback
      - slot_was_set:
          - language: __other__
      - action: utter_wrong_language

  - story: nicht verstanden fallback (negative sentiment)
    steps:
      - intent: nlu_fallback
      - slot_was_set:
          - sentiment: negative
      - action: utter_ask_rephrase
      - intent: nlu_fallback
      - slot_was_set:
          - sentiment: negative
      - action: utter_bad_sentiment
